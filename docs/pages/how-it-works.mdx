---
title: How it works
sidebar_label: How it works
---

Devpod provides the ability to provision workspaces on any infrastructure. It does so by wrapping your conventential CLI tools such as kubectl, docker, gcloud etc to deploy your development environment and set up everything required to run the dev container. While creating the workspace devpod deploys an agent to the machine running the container as well as to the container itself to provide useful functions such as port forwarding, log streaming and more. Doing so it provides a minimal control plane across your development environment for better observability.

Devpod implements various providers to deploy dev containers too. This is analogous to kubernetes cloud control manager where vendors can easily implement there own providers to deploy dev containers to

<figure>
  <img src="/docs/media/devpod_arch1.jpg" alt="DevPod Architecture" />
  <figcaption>DevPod - Architecture</figcaption>
</figure>

Devpod is a client only CLI tool to enable developers to create development enviornment's based on a "workspace" spec (see diagram, the spec is the totality of the inputs to devpod).

Devpod uses a client-agent model, as opposed to the traditional client server model, the client deploys it's own agent to act as a server, such as a grpc server or SSH server. In this regard the system is not unlike a browser server architecture where the front end is deployed and executed on a remote host. There are several improvements this brings in our specific context :
 - There can be no conflict of versions between client and server, since you install only one version of the client
 - There is no infrastructure to manage for users
 
But at the cost of some drawbacks:
 - Fixes can only be made with upgrades to the client, made by the user
 - Debugging the remote agent can be challenging
 - All binaries share the same code base and are tightly coupled
 
To overcome the issue of debugging, devpod connects your shell with the agent's shell so users can see what is happening locally and in the container at all times.
 
Devpod establishes a connection to the workspace using a vendor specific API, for example with AWS the provider would use instance connect. This vendor specific communication channel is referred to as the "tunnel". All traffic between your local machine and the workspace machine or container is tunneled through, ensuring fast and secure communication using the cloud's API.

<figure>
  <img src="/docs/media/devpod_arch2.jpg" alt="DevPod Architecture 2" />
  <figcaption>DevPod - Component Diagram</figcaption>
</figure>